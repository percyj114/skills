{
  "name": "sohopay",
  "version": "1.1.0",
  "description": "Initiate payments on the SOHO Pay credit layer using EIP-712 signatures. SoHo provides credit only — all signing is performed by the user/operator's wallet signer.",
  "author": "Steve",
  "invocation": "manual",
  "require_confirmation": true,
  "env": {
    "RPC_URL": {
      "description": "JSON-RPC endpoint for Base Sepolia or Base Mainnet",
      "required": true,
      "sensitive": false
    },
    "CHAIN_ID": {
      "description": "Target chain ID — 84532 (Base Sepolia) or 8453 (Base Mainnet)",
      "required": true,
      "sensitive": false,
      "allowed_values": ["84532", "8453"]
    },
    "SIGNER_PROVIDER": {
      "description": "Wallet signing backend — WALLET_SIGNER_REMOTE (recommended, user-controlled MPC/HSM) or LOCAL_PRIVATE_KEY (dev-only, testnet)",
      "required": true,
      "sensitive": false,
      "allowed_values": ["WALLET_SIGNER_REMOTE", "LOCAL_PRIVATE_KEY"]
    },
    "WALLET_SIGNER_SERVICE_URL": {
      "description": "URL of the user/operator's wallet signing service (e.g. Turnkey, Privy, Fireblocks). Required when SIGNER_PROVIDER=WALLET_SIGNER_REMOTE. SoHo does NOT provide this service.",
      "required": false,
      "sensitive": false
    },
    "SIGNER_SERVICE_AUTH_TOKEN": {
      "description": "Bearer auth token for the wallet signing service. Optional but recommended.",
      "required": false,
      "sensitive": true
    },
    "SOHO_API_URL": {
      "description": "SoHo credit-layer API URL (credit checks, just-in-time funding). SoHo provides credit only — never signing.",
      "required": false,
      "sensitive": false
    },
    "SOHO_DEV_PRIVATE_KEY": {
      "description": "Raw private key for local signing. User/operator's key — NOT a SoHo key. TESTNET ONLY. Required when SIGNER_PROVIDER=LOCAL_PRIVATE_KEY.",
      "required": false,
      "sensitive": true
    },
    "DEV_ALLOW_LOCAL_KEY": {
      "description": "Set to YES to allow LOCAL_PRIVATE_KEY on non-testnet chains. NOT RECOMMENDED.",
      "required": false,
      "sensitive": false
    },
    "SOHO_MAINNET_CONFIRM": {
      "description": "Must be set to YES when CHAIN_ID=8453 (Base Mainnet). Safety gate to prevent accidental mainnet transactions.",
      "required": false,
      "sensitive": false
    }
  },
  "inputs": {
    "amount": {
      "description": "Decimal USDC amount to pay (e.g. 10, 0.5)",
      "type": "string",
      "required": true
    },
    "merchantAddress": {
      "description": "Explicit 0x-prefixed checksummed EVM address of the recipient. Address generation from names is forbidden.",
      "type": "string",
      "required": true
    },
    "payerAddress": {
      "description": "Payer wallet address. Required when SIGNER_PROVIDER=WALLET_SIGNER_REMOTE.",
      "type": "string",
      "required": false
    }
  }
}
